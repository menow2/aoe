"use strict";function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Aoe=function(){function e(){_classCallCheck(this,e),this.options={initialized:!1,selectors:{name:"data-aoe",main:"[data-aoe]",speed:"data-aoe-speed",delay:"data-aoe-delay"},root:null,shift:"0px",threshold:[0,.5,1],once:!0,speed:null,timing:null,delay:null},this.items=document.querySelectorAll(this.options.selectors.main)}return _createClass(e,[{key:"addAttributes",value:function(){var o=this;this.items.forEach(function(e){var t=e.getAttribute(o.options.selectors.speed)||o.options.speed+"ms",n=e.getAttribute(o.options.selectors.delay)||o.options.speed+"ms";e.style.animationDuration=t,e.style.animationDelay=n,null!==o.options.timing&&(e.style.animationTimingFunction=o.options.timing),o.createObserver(e)})}},{key:"createObserver",value:function(e){var t={root:this.options.root,rootMargin:this.options.shift,threshold:this.options.threshold};new IntersectionObserver(this.handleIntersect,t).observe(e)}},{key:"handleIntersect",value:function(n){setTimeout(function(){for(var e=0;e<n.length;e++){var t=n[e];console.log(t),console.log(aoe.options),0==aoe.options.initialized&&t.intersectionRatio,.2<=t.intersectionRatio&&t.intersectionRatio<=.9&&1==t.isIntersecting&&aoe.animateItem(t.target,"in"),!1===aoe.options.once&&0<=t.intersectionRatio&&t.intersectionRatio<=.1&&aoe.animateItem(t.target,"out"),t.boundingClientRect.height>t.boundingClientRect.y&&0<t.intersectionRatio&&t.intersectionRatio<.1&&aoe.animateItem(t.target,"in")}},300)}},{key:"animateItem",value:function(e,t){var n=e.getAttribute("data-aoe");return"in"===t?e.classList.add(n):e.classList.remove(n)}},{key:"init",value:function(e){if(!window.IntersectionObserver)return document.body.classList.add("no-aoe"),void console.warn("Your browser does not support IntersectionObserver! https://github.com/w3c/IntersectionObserver/tree/master/polyfill");e&&e!==this.options&&(this.options=_objectSpread({},this.options,e)),this.addAttributes()}}]),e}();